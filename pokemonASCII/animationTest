#include <stdio.h>
#include <string.h>
#include <time.h>
#include <stdlib.h>
#include <unistd.h>
#include "pokeFiles.c"

void getPokemon(char holder[17][31],int pokemonIndex);
//get pokemon is fully defined in pokefiles btw
void delay(int milliseconds)
{
    milliseconds*=1000;
    clock_t start_time =clock();
    while(clock()<start_time + milliseconds);
}
///////////////////////////////////
void clear()
{
    printf("\e[2J\e[H");
}
//////////////////////////////////
void run(char screen[33][65])
{
    int x=0;
    for(x=0;x<33;x++)
    printf("%s\n",screen[x]);
}
///////////////////////////////////////

void changeEnemy(char screen[33][65],int pokemonIndex)
{
    int count;
    char enemyPokemon[17][31];
    char cleanSpare[65-30];
    char spare[65-30];
    char completeSpare[65];
    char cleanCompleteSpare[65];
    getPokemon(enemyPokemon,pokemonIndex);
    for(count=0;count<16;count++)
    {
        memcpy(spare,cleanSpare,sizeof(spare));
        memcpy(completeSpare,cleanCompleteSpare,sizeof(completeSpare));
        strncpy(spare,enemyPokemon[count],30);
        strncpy(completeSpare,screen[count],31);
        strcat(completeSpare,spare);
        strncpy(screen[count],completeSpare,65);
    }    
}

///////////////////////////////////////
void changePlayerPokemon(char screen[33][65],int pokemonIndex)
{

//screen[33]="0123456789012345678901234567890123456789012345678901234567890123";


    int count;
    int shift=16;//how down
    char enemyPokemon[17][31];
    char cleanSpare[65-30];
    char spare[65-30];
    char completeSpare[65];
    char cleanCompleteSpare[65];
    char dummy[10]="hellodummy";
    getPokemon(enemyPokemon,pokemonIndex);
    for(count=shift+0;count<16+shift;count++)
    {
        memcpy(spare,cleanSpare,sizeof(spare));
        memcpy(completeSpare,cleanCompleteSpare,sizeof(completeSpare));
        strncpy(completeSpare,enemyPokemon[count-shift],31);
        strncpy(spare,screen[count]+30,34);
        strcat(completeSpare,spare);
        strncpy(screen[count],completeSpare,64);
    }
}
///////////////////////////////////////
///////////////////////////////////////
///////////////////////////////////////
///////////////////////////////////////
///////////////////////////////////////
///////////////////////////////////////
int main()
{
printf("\e[2J\e[H");
//32 rows, 64 columns
char screen[33][65] ={   
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-=",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123",
"0123456789012345678901234567890123456789012345678901234567890123"};


//test 16 lines height
//30 char width


int ice;
for(ice=1;ice<=151;ice++)
{

clear();
changeEnemy(screen,ice);
changePlayerPokemon(screen,152-ice);\
run(screen);
delay(500);
clear();
}

return 0;


}
